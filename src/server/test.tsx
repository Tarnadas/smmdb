import * as React from 'react'
import { Provider } from 'react-redux'
import { StaticRouter, Route } from 'react-router-dom'
import { fromJS } from 'immutable'

import { AppView } from '@/client/modules/app/AppView'
import { initReducer } from '@/client/reducers'

export function getApp () {
  const state = fromJS({'blog': {}, 'mediaQuery': {'screenSize': 2}, 'courseData': {'main': [{'title': 'Tetra Hijacks a Boat', 'maker': 'El Samo', 'gameStyle': 0, 'courseTheme': 3, 'courseThemeSub': 3, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 3840, 'widthSub': 3456, 'owner': '5977f65c759de07660201d12', 'nintendoid': '47A1-0000-0247-4A7C', 'videoid': 'KJ-oqugdJtk', 'difficulty': 1, 'lastmodified': 1578019458, 'uploaded': 1578019374, 'description': '', 'uploader': 'SmArt', 'id': '5e0eaa2f0cc8ccaf483012ef', 'stars': 0}, {'title': 'no te rindas', 'maker': 'brendayjua', 'gameStyle': 3, 'courseTheme': 2, 'courseThemeSub': 2, 'time': 60, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 1344, 'widthSub': 0, 'owner': '5dfbf94b008b2eb100e33573', 'nintendoid': '', 'videoid': '', 'difficulty': 1, 'lastmodified': 1577995740, 'uploaded': 1577995730, 'description': '', 'uploader': 'henriqueobebe221', 'id': '5e0e4dd20cc8cc19f43012e9', 'stars': 0}, {'title': 'Puzzle #3 | ZakroZomber', 'maker': 'Zakro', 'gameStyle': 2, 'courseTheme': 2, 'courseThemeSub': 3, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 384, 'widthSub': 0, 'owner': '5e0ecfe9007a1ea100e336c5', 'nintendoid': null, 'videoid': null, 'difficulty': 1, 'lastmodified': 1577988780, 'uploaded': 1578029724, 'stars': 2, 'uploader': 'ZakroZomber', 'id': '5e0ed29d0cc8cc72523012f2'}, {'title': 'Puzzle #2 | ZakroZomber', 'maker': 'Zakro', 'gameStyle': 2, 'courseTheme': 1, 'courseThemeSub': 0, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 528, 'widthSub': 0, 'owner': '5e0ecfe9007a1ea100e336c5', 'nintendoid': null, 'videoid': null, 'difficulty': 1, 'lastmodified': 1577970480, 'uploaded': 1578029225, 'stars': 2, 'uploader': 'ZakroZomber', 'id': '5e0ed0a90cc8cc656f3012f1'}, {'title': 'Puzzle #1 | ZakroZomber', 'maker': 'Zakro', 'gameStyle': 2, 'courseTheme': 0, 'courseThemeSub': 4, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 384, 'widthSub': 0, 'owner': '5e0ecfe9007a1ea100e336c5', 'nintendoid': null, 'videoid': null, 'difficulty': 1, 'lastmodified': 1577966400, 'uploaded': 1578029175, 'stars': 2, 'uploader': 'ZakroZomber', 'id': '5e0ed0780cc8ccf3dc3012f0'}, {'title': ' Mega jump', 'maker': 'rii', 'gameStyle': 0, 'courseTheme': 2, 'courseThemeSub': 4, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 832, 'widthSub': 0, 'owner': '5da32e658ea2661e338a7fb8', 'nintendoid': '', 'videoid': '', 'difficulty': 0, 'lastmodified': 1577946253, 'uploaded': 1577946216, 'uploader': 'rii', 'id': '5e0d8c680cc8cc0d823012e7', 'stars': 0}, {'title': 'no siempre estaras atrapado', 'maker': 'brendayjua', 'gameStyle': 0, 'courseTheme': 2, 'courseThemeSub': 1, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 3152, 'widthSub': 3152, 'owner': '5e08eaab00c5108700e33655', 'nintendoid': '', 'videoid': '', 'difficulty': 1, 'lastmodified': 1577915228, 'uploaded': 1577915190, 'description': '', 'stars': 0, 'uploader': 'brendayjuan2', 'id': '5e0d13360cc8cc0c123012e2'}, {'title': 'Sneak Attack on Bowser Jr', 'maker': 'Jefri', 'gameStyle': 2, 'courseTheme': 3, 'courseThemeSub': 2, 'time': 500, 'autoScroll': 2, 'autoScrollSub': 0, 'width': 3840, 'widthSub': 3840, 'owner': '5e0c1e5c0054769800e33698', 'nintendoid': '', 'videoid': '', 'difficulty': 1, 'lastmodified': 1577854745, 'uploaded': 1577854681, 'description': 'First uploaded level on this site... I made this on my 3ds.', 'stars': 1, 'uploader': 'gamemaster832005', 'id': '5e0c26d90cc8cc40ba3012dc'}, {'title': 'consigue la estrella', 'maker': 'brendayjua', 'gameStyle': 3, 'courseTheme': 2, 'courseThemeSub': 2, 'time': 500, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 3840, 'widthSub': 3840, 'owner': '5e08eaab00c5108700e33655', 'nintendoid': '', 'videoid': '', 'difficulty': 1, 'lastmodified': 1577827163, 'uploaded': 1577827124, 'description': '', 'stars': 3, 'uploader': 'brendayjuan2', 'id': '5e0bbb340cc8cce9b03012da'}, {'title': 'no te rindas', 'maker': 'brendayjua', 'gameStyle': 3, 'courseTheme': 2, 'courseThemeSub': 2, 'time': 60, 'autoScroll': 0, 'autoScrollSub': 0, 'width': 1344, 'widthSub': 0, 'owner': '5e08eaab00c5108700e33655', 'nintendoid': null, 'videoid': null, 'difficulty': 1, 'lastmodified': 1577798820, 'uploaded': 1577868315, 'uploader': 'brendayjuan2', 'id': '5e0c5c1b0cc8cc4f783012de', 'stars': 0}], 'main64': [{'title': 'Spike-Shell Tower v2', 'owner': '5dfbf94b008b2eb100e33573', 'difficulty': 1, 'videoid': '', 'lastmodified': 1577472915, 'uploaded': 1577472915, 'courseTheme': 0, 'uploader': 'henriqueobebe221', 'id': '5e065393ef89397f7de895d6', 'stars': 0}, {'title': 'clothes_line', 'owner': '5de537c0002143d5005bb37a', 'difficulty': 3, 'videoid': '', 'lastmodified': 1577225843, 'uploaded': 1577225776, 'courseTheme': 0, 'courseStars': 3, 'theme': 11, 'description': 'kmtgknm', 'vImg': 1, 'uploader': 'tkaed1982', 'id': '5e028e30a7ab4a2a98f88220', 'stars': 0}, {'title': 'The Ugly Palace 3.0', 'owner': '5cabf23ed35b68b62fb5cb69', 'difficulty': 1, 'videoid': '', 'lastmodified': 1575034783, 'uploaded': 1554772582, 'courseTheme': 0, 'courseStars': 14, 'theme': 1, 'description': "The Ugly Palace is a low-effort course made by Swag. There's 14 stars scattered around for you to get. Deaths are required to get most, and you get 69 lives. Good luck!\n\nVersion 3.0\n\nStar names: https://pastebin.com/vjtApt5p\nYouTube: https://youtube.com/swagstaryt\nDiscord: Swag™#0001", 'stars': 2, 'vImg': 1, 'uploader': 'Swag', 'id': '5cabf266d35b683859b5cb6a'}, {'title': 'course000', 'owner': '5da32e658ea2661e338a7fb8', 'difficulty': 1, 'videoid': '', 'lastmodified': 1574684097, 'uploaded': 1574684097, 'courseTheme': 0, 'uploader': 'rii', 'id': '5ddbc5c146956225fe7ef009', 'stars': 0}, {'title': 'BLJ', 'owner': '5dbe13ad4d48ea66562cbdb0', 'difficulty': 0, 'videoid': '', 'lastmodified': 1572739472, 'uploaded': 1572738108, 'courseTheme': 0, 'courseStars': 1, 'theme': 2, 'description': 'This level is based only on ***bljing***', 'vImg': 1, 'uploader': 'desmarais872', 'id': '5dbe143c4d48ea8ed72cbdb1', 'stars': 0}, {'title': 'Small And Strange Level', 'owner': '5d83af311d890a24368129b2', 'difficulty': 1, 'videoid': '', 'lastmodified': 1568911172, 'uploaded': 1568911172, 'courseTheme': 0, 'uploader': 'rainersarmiento0', 'id': '5d83af441d890a7d0a8129b3', 'stars': 0}, {'title': 'theTARDISismes First Troll', 'owner': '5d714c166085e808bf8e87b9', 'difficulty': 1, 'videoid': '', 'lastmodified': 1567706318, 'uploaded': 1567706289, 'courseTheme': 0, 'uploader': 'bimboballerino45055', 'id': '5d714cb16085e87c408e87bc', 'stars': 0}, {'title': 'bounce', 'owner': '5d360d08d59e5877f56b8a45', 'difficulty': 1, 'videoid': '', 'lastmodified': 1563874840, 'uploaded': 1563874831, 'courseTheme': 0, 'courseStars': 0, 'description': 'بيالالبيلبيا', 'uploader': 'mahmoudhota353', 'id': '5d36d60fd59e584d986b8aab', 'stars': 0}, {'title': 'The Writh of BanderitaX', 'owner': '5d2ef38d5c322fc1389eee5c', 'difficulty': 3, 'videoid': '', 'lastmodified': 1563358599, 'uploaded': 1563358566, 'courseTheme': 0, 'courseStars': 0, 'description': '', 'uploader': 'yakoubtoutou', 'id': '5d2ef5665c322fd9f49eee5d', 'stars': 0}, {'title': 'The most lazy excuse to make a level,,,', 'owner': '5d2ceb566daebc33d0c5e9e8', 'difficulty': 0, 'videoid': '', 'lastmodified': 1563225594, 'uploaded': 1563225059, 'courseTheme': 0, 'vImg': 1, 'courseStars': 5, 'theme': 8, 'description': 'Stars:\n\n.Lazy red coins     \n.Defeating el comrade goombas   \n.The random platform   \n.Wallkick to the sky   \n.On top of a spinning thing   \n      \nYeah i am really bad at making levels\nThis is my first level btw', 'uploader': 'gtfourgamer', 'id': '5d2cebe36daebc5706c5e9e9', 'stars': 0}, {'title': 'Marios garden', 'owner': '5c9f95bc53bea77b2c50faeb', 'difficulty': 0, 'videoid': 'ou7i7P5cjcY', 'lastmodified': 1560701705, 'uploaded': 1560625159, 'courseTheme': 0, 'courseStars': 5, 'theme': 8, 'description': '', 'vImg': 1, 'stars': 1, 'uploader': 'wariohih34', 'id': '5d0540077e230cc435021470'}, {'title': 'Lakeside Jungle', 'owner': '5cf5de342d05b7ebd35aead5', 'difficulty': 1, 'videoid': '', 'lastmodified': 1559622361, 'uploaded': 1559617110, 'courseTheme': 0, 'vImg': 1, 'theme': 7, 'courseStars': 3, 'description': 'NOTE: THIS IS MY VERY FIRST STAGE\nI still have yet to properly use Mario 64 Maker.', 'stars': 2, 'uploader': 'strangerhaunts', 'id': '5cf5de562d05b7b6395aead6'}, {'title': 'Luigi in Waterworld', 'owner': '5cd99c1a0cb2ae522c8a1cd1', 'difficulty': 2, 'videoid': '', 'lastmodified': 1559484501, 'uploaded': 1559363474, 'courseTheme': 0, 'vImg': 1, 'theme': 7, 'description': '* The Red Coin\n\n\n* Up The Steep, Steep Slope\n\n\n* Shoot to the Star on the Big Block\n\n\n* Inside the Cannon\n\n\n* Wall Kick or Fall in the Quicksand\n\n\n* ???\n\n', 'courseStars': 0, 'uploader': 'adrock5602', 'id': '5cf1ff92d609a758449bd0a4', 'stars': 0}, {'title': 'BLJ PRACITCE COURSE', 'owner': '5cd99c1a0cb2ae522c8a1cd1', 'difficulty': 2, 'videoid': '', 'lastmodified': 1559452428, 'uploaded': 1559451813, 'courseTheme': 0, 'vImg': 1, 'courseStars': 1, 'theme': 9, 'description': 'Long Jump, then point the Control Stick the opposite direction of long jump. hold Z as hard as you can, and SPAM THE HELL OUT OF THE A BUTTON', 'uploader': 'adrock5602', 'id': '5cf358a5d609a750399bd0db', 'stars': 0}, {'title': 'Little Level', 'owner': '5cd99c1a0cb2ae522c8a1cd1', 'difficulty': 0, 'videoid': '', 'lastmodified': 1559416895, 'uploaded': 1557773979, 'courseTheme': 0, 'vImg': 2, 'theme': 9, 'description': 'Stars:\n\n\n* 1   Normal Path\n\n* 2 Red Coins\n\n* 3 Big Bully', 'courseStars': 3, 'uploader': 'adrock5602', 'id': '5cd9be9b0cb2ae96dc8a1cd8', 'stars': 0}, {'title': 'Big House', 'owner': '5cd99c1a0cb2ae522c8a1cd1', 'difficulty': 1, 'videoid': '', 'lastmodified': 1557890232, 'uploaded': 1557887574, 'courseTheme': 0, 'vImg': 1, 'courseStars': 7, 'theme': 8, 'description': '1 * Box Switch and the Hidden Blocks\n\n\n2 * Wall Kick\n\n\n3 * ???\n\n\n4 * Too Easy\n\n\n5 * Too Hard\n\n\n6 * Whomp\n\n\n7 * Precise Jump', 'stars': 1, 'uploader': 'adrock5602', 'id': '5cdb7a560cb2aeba778a1d0b'}], 'self': [], 'self64': [], 'uploaded': [], 'uploaded64': []}, 'router': {'location': null}, 'order': {'order': 'lastmodified', 'dir': false}, 'uploads64': {}, 'uploads': {}, 'userData': {'accountData': {}}, 'chat': {'global': {}}, 'filter': {'nextFilter': {}, 'currentFilter': {}}, 'image': {'full': {}, 'prev': {}, 'n64': {}}, 'reuploads64': {}, 'stats': {'courses': 12071, 'accounts': 23928}, 'reuploads': {}})
  const store = initReducer(state, null)

  const context = {}
  const jsx = (location: String) => (
    <Provider store={store}>
      <StaticRouter location={location} context={context}>
        <Route path="/" render={(): JSX.Element => <AppView isServer />} />
      </StaticRouter>
    </Provider>
  )

  return {
    jsx,
    getLocations: () => ([
      '/',
      '/courses',
      '/courses2',
      '/courses64',
      '/upload',
      '/upload2',
      '/upload64',
      '/profile',
      '/faq',
      '/social',
      '/privacy',
      '/legal'
    ])
  }
}
